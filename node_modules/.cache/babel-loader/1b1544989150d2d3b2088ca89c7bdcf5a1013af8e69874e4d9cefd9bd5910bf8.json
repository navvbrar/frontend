{"ast":null,"code":"var _jsxFileName = \"D:\\\\ecommerce2\\\\frontend\\\\src\\\\context\\\\Productstate.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport productcontext from './Productcontext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Productstate = props => {\n  _s();\n  const [allproducts, setallproducts] = useState([]);\n  const [singleproduct, setsingleproduct] = useState([]);\n  const [user, setuser] = useState([]);\n  const [cart, setcart] = useState([]);\n  const [spinner, setspinner] = useState();\n  const [loading, setloading] = useState();\n  const [addid, setaddid] = useState();\n  const getproducts = async () => {\n    setspinner(true);\n    // setloading(20)\n    const product = await fetch(\"http://localhost:5000/api/product\", {\n      method: \"GET\",\n      headers: {\n        \"content-type\": \"application/json\",\n        \"auth-token\": localStorage.getItem(\"token\")\n      }\n    });\n    //  setloading(60)\n    let response = await product.json();\n    if (response.success === true) {\n      //  setloading(80)\n      setallproducts(response.products);\n      //  setloading(100)\n      setspinner(false);\n    }\n  };\n  const productdetails = async id => {\n    setloading(30);\n    setspinner(true);\n    const details = await fetch(`http://localhost:5000/api/product/${id}`, {\n      method: \"GET\",\n      headers: {\n        \"content-type\": \"application/json\",\n        \"auth-token\": localStorage.getItem(\"token\")\n      }\n    });\n    setloading(60);\n    const response = await details.json();\n    if (response.success === true) {\n      setloading(80);\n      setsingleproduct(response.products);\n      setloading(100);\n      setspinner(false);\n    }\n  };\n  const getuser = async () => {\n    setloading(30);\n    const userdetails = await fetch(`http://localhost:5000/api/account`, {\n      method: \"GET\",\n      headers: {\n        \"content-type\": \"application/json\",\n        \"auth-token\": localStorage.getItem(\"token\")\n      }\n    });\n    setloading(60);\n    const response = await userdetails.json();\n    if (response.success === true) {\n      setloading(80);\n      setuser(response);\n      setloading(100);\n      console.log(setuser);\n    }\n  };\n  const getcart = async () => {\n    setloading(30);\n    const getitems = await fetch(`http://localhost:5000/api/cart`, {\n      method: \"GET\",\n      headers: {\n        \"content-type\": \"application/json\",\n        \"auth-token\": localStorage.getItem(\"token\")\n      }\n    });\n    setloading(60);\n    const response = await getitems.json();\n    if (response.success === true) {\n      setloading(80);\n      setcart(response);\n      setloading(100);\n    }\n  };\n  const addtocart = async id => {\n    let product_id = await JSON.stringify({\n      id\n    });\n    //  console.log(JSON.stringify({product_id}))\n\n    const addtocart = await fetch(`http://localhost:5000/api/cart`, {\n      method: \"POST\",\n      headers: {\n        \"auth-token\": localStorage.getItem(\"token\")\n      },\n      body: id\n    });\n    const response = await addtocart.json();\n    if (response.success === true) {\n      console.log(\"we are in if block\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(productcontext.Provider, {\n    value: {\n      getproducts,\n      allproducts,\n      singleproduct,\n      productdetails,\n      getuser,\n      user,\n      getcart,\n      cart,\n      spinner,\n      loading,\n      setloading,\n      addtocart,\n      addid,\n      setaddid\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 153,\n    columnNumber: 5\n  }, this);\n};\n_s(Productstate, \"9DtgBOqkwFH+zlD6rOQ9JFdquuo=\");\n_c = Productstate;\nexport default Productstate;\nvar _c;\n$RefreshReg$(_c, \"Productstate\");","map":{"version":3,"names":["React","useState","productcontext","jsxDEV","_jsxDEV","Productstate","props","_s","allproducts","setallproducts","singleproduct","setsingleproduct","user","setuser","cart","setcart","spinner","setspinner","loading","setloading","addid","setaddid","getproducts","product","fetch","method","headers","localStorage","getItem","response","json","success","products","productdetails","id","details","getuser","userdetails","console","log","getcart","getitems","addtocart","product_id","JSON","stringify","body","Provider","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/ecommerce2/frontend/src/context/Productstate.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport productcontext from './Productcontext';\r\n\r\n\r\nconst Productstate=(props)=> {\r\n  \r\n      const [allproducts,setallproducts]=useState([]);\r\n    const [singleproduct,setsingleproduct]=useState([]);\r\n    const [user,setuser]=useState([]);\r\n    const [cart,setcart]=useState([]);\r\n    const [spinner,setspinner]=useState();\r\n    const [loading,setloading]=useState();\r\n    const [addid,setaddid]=useState();\r\n    \r\n    const getproducts= async()=>{\r\n      setspinner(true)\r\n      // setloading(20)\r\n   const product = await fetch(\"http://localhost:5000/api/product\",{\r\n\r\n   method:\"GET\",\r\n   headers:{\r\n    \"content-type\":\"application/json\",\r\n    \"auth-token\":localStorage.getItem(\"token\")\r\n\r\n   }\r\n    \r\n   })\r\n  //  setloading(60)\r\n   let response = await product.json();\r\n   if(response.success===true){\r\n\r\n   \r\n  //  setloading(80)\r\n   setallproducts(response.products);\r\n  //  setloading(100)\r\n   setspinner(false)\r\n    \r\n   }\r\n  \r\n\r\n\r\n    }\r\n   const productdetails = async (id)=>{\r\n    setloading(30)\r\n    setspinner(true)\r\n    const details = await fetch(`http://localhost:5000/api/product/${id}`,{\r\n\r\n    method:\"GET\",\r\n    headers:{\r\n     \"content-type\":\"application/json\",\r\n     \"auth-token\":localStorage.getItem(\"token\")\r\n \r\n    }\r\n     \r\n    })\r\n    setloading(60)\r\n    const response = await details.json()\r\n    if(response.success===true){\r\n      setloading(80)\r\n     setsingleproduct(response.products)\r\n     setloading(100)\r\n     setspinner(false)\r\n     \r\n\r\n    }  \r\n\r\n\r\n   }\r\n\r\n   const getuser=async()=>{\r\n    setloading(30)\r\n    const userdetails = await fetch(`http://localhost:5000/api/account`,{\r\n\r\n    method:\"GET\",\r\n    headers:{\r\n     \"content-type\":\"application/json\",\r\n     \"auth-token\":localStorage.getItem(\"token\")\r\n \r\n    }\r\n    \r\n     \r\n    })\r\n    setloading(60)\r\n    const response= await userdetails.json();\r\n    if(response.success===true){\r\n      setloading(80)\r\n     setuser(response)\r\n     setloading(100)\r\n   console.log(setuser);\r\n   \r\n\r\n    }\r\n    \r\n\r\n   }\r\n   const getcart=async()=>{\r\n     \r\n    setloading(30)\r\n    const getitems = await fetch(`http://localhost:5000/api/cart`,{\r\n\r\n    method:\"GET\",\r\n    headers:{\r\n     \"content-type\":\"application/json\",\r\n     \"auth-token\":localStorage.getItem(\"token\")\r\n \r\n    },\r\n    \r\n     \r\n    })\r\n    setloading(60)\r\n    \r\n    const response= await getitems.json();\r\n    \r\n    if(response.success===true){\r\n      setloading(80)\r\n     setcart(response)\r\n     setloading(100)\r\n     }\r\n     \r\n\r\n   }\r\n\r\n\r\n   const addtocart=async(id)=>{\r\n     let product_id= await JSON.stringify({id})\r\n    //  console.log(JSON.stringify({product_id}))\r\n\r\n    const addtocart = await fetch(`http://localhost:5000/api/cart`,{\r\n\r\n    method:\"POST\",\r\n    headers:{\r\n  \r\n     \"auth-token\":localStorage.getItem(\"token\")\r\n \r\n    },\r\n    body: id\r\n    \r\n     \r\n    })\r\n    const response =await addtocart.json()\r\n    if(response.success===true){\r\n       \r\n   console.log(\"we are in if block\")\r\n    }\r\n    \r\n\r\n\r\n   }\r\n\r\n\r\n\r\n  return (\r\n    <productcontext.Provider value={{getproducts ,allproducts,singleproduct,productdetails,getuser,user,getcart,cart,spinner,loading,setloading,addtocart,addid,setaddid}}>\r\n        {props.children}\r\n    </productcontext.Provider>\r\n  )\r\n}\r\nexport default Productstate;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}